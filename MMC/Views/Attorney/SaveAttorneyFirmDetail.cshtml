@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section scripts{
    <script type="text/javascript" src="@Url.Content("~/Scripts/KnockoutViewModel/Attorney/SaveDetailViewModel.js")"></script>
    <script src="@Url.Content("~/Scripts/jqBootstrapValidation.js")"></script>
    <script src="@Url.Content("~/Scripts/ko.pager.js")"></script>
    <script>
        var saveModel = @MvcHtmlString.Create(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(Model));
        var _saveDetailResult = new SaveDetailViewModel(saveModel);
        ko.applyBindings(_saveDetailResult, $("#AttorenySaveDetailDiv").get(0));
    </script>
    }

<div id="AttorenySaveDetailDiv">
    @using MMCApp.Infrastructure.Global;
    @using System.Web.Script.Serialization;
    @using (Html.BeginForm(GlobalConst.Actions.AttorneyController.SaveAttorneyFirmDetail, GlobalConst.Controllers.Attorney, FormMethod.Post, new
{
    id = "frmSaveAttorneyFirmDetails",
    enctype = "multipart/form-data",
    data_bind = "ajaxForm : { success : function(responseText ,statusText,xhr,$form){AddAttorneyFirmSuccess(responseText);},beforeSubmit : AttorneyFirmFormBeforeSubmit}"
}))
    {
        <div class="row">
            <div class="col-lg-12 client-accordian">
                <div class="panel panel-default">
                    <div class="panel-heading" role="tab" id="heading11">
                        <h4 class="panel-title">
                            <a>
                                Attorney Detail Page
                            </a>
                        </h4>
                    </div>
                    <div id="collapse11" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading11">
                        <div class="panel-body row">
                            <div class="col-sm-6">
                                <div class="form-group row label-font clearfix">
                                    <label for="EmpName" class="col-sm-3 control-label"><span class="required-link">*</span>Attorney Firm :</label>
                                    <div class="col-sm-9">
                                        <input type="hidden" name="AttorneyFirmID" id="AttorneyFirmID" data-bind="value:AttorneyFirmID" />
                                        <input type="text" class="form-control" id="AttorneyFirmName" required="required" name="AttorneyFirmName" maxlength="50" data-bind="value:AttorneyFirmName,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group row label-font clearfix">
                                    <label for="EmpEMail" class="col-sm-3 control-label"><span class="required-link">*</span>Attorney Firm Type :</label>
                                    <div class="col-sm-9">
                                        <select id="AttorneyFirmTypeID" class="form-control" name="AttorneyFirmTypeID" data-bind="options: AttorneyFirmTypes, optionsText: 'AttorneyFirmTypeName', optionsValue: 'AttorneyFirmTypeID', value: selectedItemAttorneyFirmTypes,jqBootstrapValidation:{}"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group row label-font clearfix">
                                    <label for="EmpContactName" class="col-sm-3 control-label"><span class="required-link">*</span>Address :</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="AttAddress1" maxlength="20" name="AttAddress1" required="required" data-bind="value:AttAddress1,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group row label-font clearfix">
                                    <label for="EmpPhoneExtension" class="col-sm-3 control-label">Address 2:</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="AttAddress2" min="0" maxlength="20" name="AttAddress2"  data-bind="value:AttAddress2,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group row label-font clearfix">
                                    <label for="EmpAddress1" class="col-sm-3 control-label"><span class="required-link">*</span>City :</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="AttFirmCity" required="required" name="AttCity" maxlength="50"  data-bind="value:AttCity,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>   
                            <div class="col-sm-6">
                                <div class="form-group row label-font clearfix">
                                    <label for="EmpStateId" class="col-sm-3 control-label"><span class="required-link">*</span>State :</label>
                                    <div class="col-sm-9">
                                        <select id="AttStateID" class="form-control" name="AttStateID" data-bind="options: States, optionsText: 'StateName', optionsValue: 'StateId', value: selectedItem,jqBootstrapValidation:{}"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group row label-font clearfix">
                                    <label for="EmpZip" class="col-sm-3 control-label"><span class="required-link">*</span>Zip :</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control zipMaskformat" id="AttFirmZip" required="required" maxlength="10" name="AttZip" data-bind="value:AttZip,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group row label-font clearfix">
                                    <label for="EmpPhone" class="col-sm-3 control-label"><span class="required-link">*</span>Phone :</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control phoneMaskformat" id="AttFirmPhone" maxlength="14" name="AttPhone" required="required" data-bind="value:AttPhone,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group row label-font clearfix">
                                    <label for="EmpFax" class="col-sm-3 control-label"><span class="required-link">*</span>Fax :</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control phoneMaskformat" id="AttFirmFax" maxlength="14" name="AttFax" required="required" data-bind="value:AttFax,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>

                         
                        </div>
                    </div>
                </div>

            </div><!-- col-lg-12 -->
        </div><!-- row -->
        <div class="row">
            <div class="col-sm-12">
                <button class="btn btn-red padding-btn color-black pull-right margin-left-20 margin-btm-30" type="submit">Save</button>
            </div>
        </div>
    }
    <div class="DivHideAttorney">
        <input type="hidden" name="Skip" id="hidskip" data-bind="value: $root.Skip" />
        <!--ko if:(TotalItemCount() > 0 || TotalItemCount() == 0 )-->
        <div class="row">
            <div class="col-sm-12"><button class="btn btn-default padding-btn color-black pull-right OpenPopAttorney" id="OpenPopUpAttorney" tabindex="12" data-backdrop="static" data-keyboard="false" data-toggle="modal" data-target="#addAttorney" type="button">Add New Attorney</button></div>
            <div class="col-sm-12 margintop30">
                <div class="white-background">
                    <table class="table table-bordered table-striped table-condensed home-table">
                        <thead>
                            <tr>
                                <th>Attorney Name</th>
                                <th>Attorney Phone</th>
                                <th>Attorney Fax </th>
                                <th>Attorney Email</th>
                                <th>Action </th>
                            </tr>
                        </thead>
                        <tbody>
                            <!--ko if:AttorneyResults()!= null-->
                            <!-- ko foreach:AttorneyResults -->
                            <tr>
                                <td>
                                    <span data-bind="text:AttorneyName" />
                                    <input type="hidden" name="AttorneyID" id="AttorneyID" data-bind="value:AttorneyID" />
                                </td>
                                <td><span data-bind="text:AttPhone" /></td>
                                <td><span data-bind="text:AttFax" /></td>
                                <td><span data-bind="text:AttEmail" /></td>
                                <td><a data-bind="click:$root.ViewAttorenyDetails" href="">View</a> </td>

                            </tr>
                            <!--/ko-->
                            <!--/ko-->

                        </tbody>
                        <tfoot>
                            <!--ko if:AttorneyResults()==null || AttorneyResults().length==0-->
                            <tr>
                                <td colspan="6">
                                    <div class="alert alert-info">
                                        <button type="button" class="close" data-dismiss="alert">
                                            &times;
                                        </button>
                                        No Result Found.
                                    </div>
                                </td>
                            </tr>
                            <!-- /ko -->
                        </tfoot>
                    </table>
                    <nav class="margin-left">
                        @Html.Partial("~/Views/Shared/_Paging.cshtml")
                    </nav>
                </div><!-- white-background -->
            </div><!-- col-sm-12 -->
        </div>
        <!-- /ko -->

    </div>
    <div class="modal fade" id="addAttorney" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg popup-top">
            <div class="modal-content">
                <div class="panel-heading">
                    <button type="button" class="close ClosePopAttorney" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Attorney Details</h4>
                </div>
                <div class="panel-body">
                    @{Html.RenderPartial("~/Views/Shared/Attorney/_AttorneyPartial.cshtml");}
                </div>
            </div>
        </div>
    </div>
 </div>

